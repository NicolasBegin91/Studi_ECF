{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="/css/form.css">
{% endblock %}

{% block body %}

    <div class="form_container">
        <div class="col-lg-12">
            <h2 class="text-center">{% if mode == 'new' %}Ajouter un{% else %}Modifier un{% endif %} {{title}}</h2>
        </div>
        <hr>
    {{ include(destination  ~ '/_form.html.twig') }}

<hr>

    {% if not form.vars.valid %}
    <div class="error text-center">
        {{ 'Form_Error'|trans }}
    </div>
    <br>
    {% else %}
        <div class=""></div>
    {% endif %} 
    
    {% if title == 'avis' %}
    <div class="text-center pb-3">
        Votre avis sera publié après vérification
    </div>
    {% endif %} 

<div class="container p-0">
    <div class="form_buttons row m-0">
    
    {{ include('helpers/form/_save_form.html.twig', {}) }}

{{ form_end(form) }}

    {% if mode  != 'new' %}
    {{ include('helpers/form/_delete_form.html.twig', {
                'destination' : destination,
                'id' : data.id,
            }) }}
    {% endif %}

    {{ include('helpers/form/_back_form.html.twig', {
                'mode' : mode,
                'destination' : destination,
            }) }}
    {# <button onclick="location.href='{{ path('app_user_index') }}'" class="btn">{{ 'Back'|trans }}</button> #}
    </div>
    </div>
    </div>
{% endblock %}